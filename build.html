<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hasil Build</title>
  <link rel="stylesheet" href="build.css">
  <link href="https://fonts.googleapis.com/css2?family=Satisfy&display=swap" rel="stylesheet">
</head>
<body>

<!-- HEADER -->
<div class="header">
  <div class="menu-btn" id="menuBtn">☰</div>
  <h2>Hasil Build</h2>
</div>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <!-- Header Sidebar -->
  <div class="sidebar-header">
    <img src="logo.png" alt="Logo Victornz" class="sidebar-logo">
    <h2>Victornz</h2>
  </div>

  <!-- Garis pemisah -->
  <hr class="sidebar-divider">

  <!-- Menu Navigasi -->
  <nav class="sidebar-menu">
    <a href="beranda.html">
      <img src="house.png" alt="Home Icon" class="icon">
      <span>Beranda</span>
    </a>

    <a href="rules.html">
      <img src="book-text.png" alt="Rules Icon" class="icon">
      <span>Rules</span>
    </a>

    <a href="list.html">
      <img src="clipboard-list.png" alt="List Icon" class="icon">
      <span>List Member</span>
    </a>
    
    <a href="fotbar.html">
      <img src="camera.png" alt="Fotbar Icon" class="icon">
      <span>Fotbar</span>
    </a>
    
    <a href="build.html" class="active">
      <img src="image.png" alt="Build Icon" class="icon">
      <span>Hasil Build</span>
    </a>
    
    <a href="skin.html">
      <img src="shirt.png" alt="Skin Icon" class="icon">
      <span>Pasang Skin</span>
    </a>
    
    <a href="pesan.html">
      <img src="message-square-more.png" alt="Pesan Icon" class="icon">
      <span>Pesan</span>
    </a>
  </nav>

  <!-- Footer Sidebar -->
  <div class="sidebar-footer">
    <p>© 2025 Victornz</p>
  </div>
</div>

<!-- KONTEN POLLOSAN -->
<div class="content">
  <!-- Konten halaman baru bisa ditambahkan di sini -->
  <h1>Hasil Build</h1>
</div>
<div class="gallery">
  
  <div class="frame">
    <div class="pin"></div>
    <img class="foto" src="asa.png">
    <div class="judul-foto">Belum ada Foto</div>
  </div>
</div>
<!-- OVERLAY FOTO (letakkan tepat setelah .gallery) -->
<div id="photoOverlay" class="photo-overlay" aria-hidden="true">
  <button id="overlayClose" class="overlay-close" aria-label="Tutup">&times;</button>
  <img id="overlayImage" src="" alt="">
  <div id="overlayCaption" class="overlay-caption"></div>
</div>

<script>
const sidebar = document.getElementById('sidebar');
const menuBtn = document.getElementById('menuBtn');

// Klik tombol ☰ untuk buka/tutup
menuBtn.addEventListener('click', (e) => {
  e.stopPropagation();
  sidebar.classList.toggle('active');
});

// Klik di luar sidebar → tutup
document.addEventListener('click', (e) => {
  const isInsideSidebar = sidebar.contains(e.target);
  const isMenuBtn = menuBtn.contains(e.target);
  if (!isInsideSidebar && !isMenuBtn) {
    sidebar.classList.remove('active');
  }
});

// Klik link dalam sidebar → tutup juga
document.querySelectorAll('.sidebar a').forEach(link => {
  link.addEventListener('click', () => {
    sidebar.classList.remove('active');
  });
});
// overlay elements
const photoOverlay = document.getElementById('photoOverlay');
const overlayImage = document.getElementById('overlayImage');
const overlayCaption = document.getElementById('overlayCaption');
const overlayClose = document.getElementById('overlayClose');

// helper
function openOverlay(src, caption) {
  overlayImage.src = src;
  overlayCaption.textContent = caption || '';
  photoOverlay.classList.add('open');
  photoOverlay.setAttribute('aria-hidden', 'false');
  // kunci scroll halaman ketika overlay aktif
  document.documentElement.style.overflow = 'hidden';
  document.body.style.overflow = 'hidden';
}

function closeOverlay() {
  photoOverlay.classList.remove('open');
  photoOverlay.setAttribute('aria-hidden', 'true');
  overlayImage.src = '';
  // kembalikan scroll
  document.documentElement.style.overflow = '';
  document.body.style.overflow = '';
}

// attach events to frames:
// - hover (desktop): mouseenter -> buka ; mouseleave -> tutup
// - click/tap (mobile): click -> buka (toggle)
document.querySelectorAll('.frame').forEach(frame => {
  const img = frame.querySelector('.foto');
  const titleEl = frame.querySelector('.judul-foto');
  const title = titleEl ? titleEl.innerText.trim() : '';

  // mouse hover (desktop)
  frame.addEventListener('mouseenter', (e) => {
    // ignore if touch device (to avoid double open)
    if ('ontouchstart' in window) return;
    openOverlay(img.src, title);
  });
  frame.addEventListener('mouseleave', (e) => {
    if ('ontouchstart' in window) return;
    closeOverlay();
  });

  // click/tap (mobile & desktop)
  img.addEventListener('click', (e) => {
    // on touch devices: toggle overlay on click
    if (photoOverlay.classList.contains('open')) {
      closeOverlay();
    } else {
      openOverlay(img.src, title);
    }
    e.stopPropagation();
  });
});

// close handlers
overlayClose.addEventListener('click', closeOverlay);
photoOverlay.addEventListener('click', (e) => {
  // klik di luar gambar (alias pada layer overlay) akan menutup
  if (e.target === photoOverlay) closeOverlay();
});

// juga tutup tombol ESC
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') closeOverlay();
});
const frames = document.querySelectorAll('.frame');

// Batas minimal & maksimal derajat miring
const minDeg = 0;   // minimal kemiringan
const maxDeg = 4;   // maksimal kemiringan

// Simpan rotasi sebelumnya agar tidak mirip
let lastDeg = null;

frames.forEach(frame => {
  let deg;

  // Ulangi sampai beda cukup jauh dari rotasi sebelumnya
  do {
    const arah = Math.random() < 0.5 ? -1 : 1;
    const besar = (Math.random() * (maxDeg - minDeg) + minDeg).toFixed(2);
    deg = arah * besar;
  } while (lastDeg !== null && Math.abs(deg - lastDeg) < 1.2);

  lastDeg = deg;

  frame.style.transform = `rotate(${deg}deg)`;
  frame.style.transformOrigin = 'top center'; // agar berputar dari pin
});
</script>

</body>
</html>